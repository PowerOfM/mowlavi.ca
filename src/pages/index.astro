---
import Layout from "../layouts/Layout.astro";
import AppNav from "../components/AppNav.astro";
import Coverpage from "../components/home/Coverpage.astro";
import CoverpageMobile from "../components/home/CoverpageMobile.astro";
import About from "../components/home/About.astro";
import Projects from "../components/home/Projects.astro";
import Contact from "../components/home/Contact.astro";
---

<Layout title="Mesbah Mowlavi - Engineer, Designer, Creator">
  <AppNav />

  <CoverpageMobile class="mobile-only" />
  <Coverpage class="tablet-up-flex" />

  <About />
  <Projects />
  <Contact />
</Layout>

<style lang="scss" is:global>
  @import "../styles/theme.sass";

  @include tablet {
    html {
      scroll-snap-type: y proximity;
    }
    .hero {
      scroll-snap-align: start;
      scroll-padding: 5px;
    }
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/lax.js"></script>
<script>
  window.onload = function () {
    lax.init();
    lax.addDriver("scrollY", () => window.scrollY);

    const elSkillz = document.getElementById("skillz");
    var animationMovement = "-screenWidth";
    if (elSkillz) {
      animationMovement = String(Math.round(-elSkillz.clientWidth / 2));
    }

    lax.addElements("#skillz", {
      scrollY: {
        translateX: [
          ["elInY", "elOutY"],
          [0, animationMovement],
        ],
      },
    });
  };
</script>
